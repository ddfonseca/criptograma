<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Criptograma com Símbolos</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				margin: 50px;
			}
			input,
			textarea {
				width: 100%;
				margin: 10px 0;
				padding: 10px;
			}
			textarea {
				height: 150px;
			}
			.legend {
				margin-top: 20px;
				padding: 10px;
				border: 1px solid #ccc;
				background-color: #f9f9f9;
			}
			.legend-item {
				font-family: monospace;
				display: inline-block;
				margin-right: 10px;
			}
		</style>
	</head>
	<body>
		<h1>Criptograma com Símbolos</h1>
		<p>Digite o texto abaixo e veja-o criptografado com símbolos:</p>

		<input type="text" id="inputText" placeholder="Digite seu texto aqui" oninput="encryptText()" />
		<textarea id="outputText" placeholder="Texto criptografado aparecerá aqui" readonly></textarea>

		<h2>Legenda:</h2>
		<div id="legend" class="legend"></div>

		<script>
			// Define uma lista de símbolos com 38 itens para cada letra do alfabeto, incluindo acentos
			const symbols = [
				"♠",
				"♥",
				"♦",
				"♣",
				"♪",
				"♫",
				"★",
				"☼",
				"☀",
				"✿",
				"⚽",
				"♬",
				"☯",
				"❀",
				"☁",
				"✪",
				"✈",
				"✌",
				"❉",
				"☘",
				"☾",
				"⚡",
				"✧",
				"❦",
				"❧",
				"⚓",
				"✩",
				"✯",
				"✰",
				"✮",
				"✣",
				"✤",
				"✥",
				"✦",
				"✧",
				"✩",
				"✪",
				"✫",
				"✬",
				"✭",
			];

			// Função para gerar o dicionário de substituição
			function generateSubstitutionDict() {
				const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZÇÁÀÃÂÉÊÍÓÒÕÔÚÜ";
				const substitutionDict = {};

				// Associa cada letra a um símbolo único
				for (let i = 0; i < alphabet.length; i++) {
					substitutionDict[alphabet[i]] = symbols[i];
				}
				return substitutionDict;
			}

			// Gera o dicionário de substituição uma única vez
			const substitutionDict = generateSubstitutionDict();

			// Função para gerar a legenda (letras e seus símbolos)
			function generateLegend() {
				const legendDiv = document.getElementById("legend");
				legendDiv.innerHTML = ""; // Limpa a legenda anterior

				for (const [letter, symbol] of Object.entries(substitutionDict)) {
					const legendItem = document.createElement("span");
					legendItem.classList.add("legend-item");
					legendItem.textContent = `${letter}: ${symbol}`;
					legendDiv.appendChild(legendItem);
				}
			}

			// Função para normalizar o texto (remove acentos)
			function normalizeText(text) {
				const accentsMap = {
					Á: "A",
					À: "A",
					Ã: "A",
					Â: "A",
					É: "E",
					Ê: "E",
					Í: "I",
					Ó: "O",
					Ò: "O",
					Õ: "O",
					Ô: "O",
					Ú: "U",
					Ü: "U",
					Ç: "C",
				};
				return text
					.split("")
					.map((char) => accentsMap[char] || char)
					.join("");
			}

			// Função para criptografar o texto
			function encryptText() {
				const input = normalizeText(document.getElementById("inputText").value.toUpperCase());
				let encryptedText = "";

				for (let char of input) {
					if (substitutionDict[char]) {
						encryptedText += substitutionDict[char];
					} else {
						encryptedText += char; // Mantém espaços e pontuações
					}
				}

				// Atualiza o textarea e o div com o texto criptografado
				document.getElementById("outputText").value = encryptedText;
			}

			// Gera a legenda ao carregar a página
			window.onload = function () {
				generateLegend();
			};
		</script>
	</body>
</html>
